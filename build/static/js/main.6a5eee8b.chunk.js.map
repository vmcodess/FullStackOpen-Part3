{"version":3,"sources":["components/Search/Search.js","components/AddPersonForm/Form.js","components/DisplayAllPersons/Display.js","components/Services/PersonService.js","components/Notification/Notification.js","App.js","index.js"],"names":["Search","search","handleSearchChange","value","onChange","Form","addName","newName","newNumber","handleNameChange","handleNumberChange","onSubmit","type","Display","persons","deletePerson","filteredNames","filter","person","name","toLowerCase","includes","map","found","number","onClick","id","baseURL","axios","get","then","response","data","newObject","post","put","delete","Notification","props","message","result","className","App","useState","setPersons","setNewName","setNumber","setSearch","successMessage","setSuccessMessage","useEffect","PersonService","initialPersons","event","target","preventDefault","find","window","confirm","newObj","returnedPerson","newPerson","resultMessage","setTimeout","catch","err","console","log","concat","personIDFound","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.6a5eee8b.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst Search = ({ search, handleSearchChange }) => {\r\n    return (\r\n        <div>\r\n            filter shown with <input value={search} onChange={handleSearchChange}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Search;","import React from 'react';\r\n\r\nconst Form = ({ addName, newName, newNumber, handleNameChange, handleNumberChange }) => {\r\n    return (\r\n        <form onSubmit={addName}>\r\n            <div>\r\n                name: <input value={newName} onChange={handleNameChange} />\r\n            </div>\r\n            <div>\r\n                number: <input value={newNumber} onChange={handleNumberChange} />\r\n            </div>\r\n            <div>\r\n                <button type=\"submit\">add</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default Form;","import React from 'react';\r\n\r\nconst Display = ({ persons, search, deletePerson }) => {\r\n    let filteredNames = persons;\r\n    if (search) {\r\n        filteredNames = persons.filter(person => person.name.toLowerCase().includes(search.toLowerCase()))\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {filteredNames.map(found => <div key={found.name}> {found.name} {found.number} <button onClick={() => deletePerson(found.id)}>delete</button></div>)}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Display;","import axios from 'axios'\r\nconst baseURL = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseURL)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n    const request = axios.post(baseURL, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    const request = axios.put(`${baseURL}/${id}`, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst remove = (id, newObject) => {\r\n    const request = axios.delete(`${baseURL}/${id}`, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\n// eslint-disable-next-line import/no-anonymous-default-export\r\nexport default { getAll, create, update, remove }","import React from 'react';\r\nimport '../../../src/App.css'\r\n\r\nconst Notification = (props) => {\r\n  //console.log(props.message.message);\r\n  if (props.message.message === null) {\r\n    return null\r\n  }\r\n\r\n  if (props.message.result === 'success') {\r\n     return (\r\n      <div className=\"success\">\r\n        {props.message.message}\r\n      </div>\r\n    )\r\n  } else if (props.message.result === 'fail') {\r\n    return (\r\n      <div className=\"error\">\r\n        {props.message.message}\r\n      </div>\r\n    )\r\n  }\r\n return null;\r\n}\r\n\r\nexport default Notification;","import React, { useState, useEffect } from 'react'\nimport Search from './components/Search/Search'\nimport Form from './components/AddPersonForm/Form'\nimport Display from './components/DisplayAllPersons/Display'\nimport PersonService from './components/Services/PersonService'\nimport Notification from './components/Notification/Notification'\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNumber ] = useState('')\n  const [ search, setSearch ] = useState('')\n  const [ successMessage, setSuccessMessage ] = useState({\n    message: null,\n    result: null\n  })\n\n  useEffect(() => {\n    PersonService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])\n\n  const handleNameChange = (event) => (\n    setNewName(event.target.value)\n  )\n\n  const handleNumberChange = (event) => (\n    setNumber(event.target.value)\n  )\n\n  const handleSearchChange = (event) => {\n    setSearch(event.target.value)\n  }\n\n  const addName = (event) => {\n    event.preventDefault();\n\n    if (persons.find(person => person.name === newName)) {\n      if(window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\n        const id = persons.find(person => person.name === newName).id\n        const newObj = {\n          name: newName,\n          number: newNumber\n        }\n\n        PersonService\n          .update(id, newObj)\n          .then(returnedPerson => {\n            const newPerson = persons.map(person => person.id !== id ? person : returnedPerson)\n            setPersons(newPerson)\n            const resultMessage = {\n              message: `Updated ${returnedPerson.name}`,\n              result: 'success'\n            }\n            setSuccessMessage(resultMessage)\n            setTimeout(() => {\n              setSuccessMessage({...successMessage, message: null})\n            }, 5000)\n          })\n          .catch((err) => {\n            console.log(`error updating user: ${err}`)\n\n            const resultMessage = {\n              message: `Information of ${newObj.name} has already been removed from the server`,\n              result: 'fail'\n            }\n            setSuccessMessage(resultMessage)\n            setTimeout(() => {\n              setSuccessMessage({...successMessage, message: null})\n            }, 5000)\n          })\n      }\n    } else {\n      const personObject = {\n        name: newName,\n        number: newNumber\n      }\n\n      PersonService\n        .create(personObject)\n        .then(newPerson => {\n          setPersons(persons.concat(newPerson))\n          setNewName('')\n          setNumber('')\n\n          const resultMessage = {\n            message: `Added ${newPerson.name}`,\n            result: 'success'\n          }\n          setSuccessMessage(resultMessage)\n          setTimeout(() => {\n            setSuccessMessage({...successMessage, message: null})\n          }, 5000)\n        })\n        .catch((err) => console.log(`error posting: ${err}`))\n    }\n  }  \n\n  const deletePersonHandler = (id) => {\n    const personIDFound = persons.find(person => person.id === id)\n    if (window.confirm(`Delete ${personIDFound.name} ?`)) {\n      PersonService\n        .remove(id)\n        .then(response => {\n          console.log(`deleted ${personIDFound.name} successfully`)\n          setPersons(persons.filter(person => person.id !== id))\n        })\n        .catch((err) => {\n          console.log(`Error deleting: ${err}`)\n        })\n    }\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={successMessage} />\n      <Search \n        search={search} \n        handleSearchChange={handleSearchChange} \n      />\n      <h2>add a new</h2>\n      <Form \n        addName={addName} \n        newName={newName} \n        newNumber={newNumber} \n        handleNameChange={handleNameChange} \n        handleNumberChange={handleNumberChange} \n      />\n      <h2>Numbers</h2>\n      <Display persons={persons} search={search} deletePerson={deletePersonHandler} />\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}